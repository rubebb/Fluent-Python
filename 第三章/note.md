# 字典和集合

## 知识点
- Python核心结构在内存中以字典的形式存在
- 字典推导式从任何可迭代对象中获取键值对，构建dict实例
- 调用函数时，不止一个参数可以使用**。但是所有键都要是字符串，而且在所有参数中是唯一
- 与序列模式不同，就算只有部分匹配，映射模式也算成功匹配
- 使用 | 和 |= 合并映射
- 一个对象的哈希码在整个生命周期内永不改变（依托 __hash()__ 方法），而且可与其他对象比较（依托 __eq()__ 方法）, 那么这个对象就是可哈希的，两个可哈希对象仅当哈希码相同时相等
- 用户定义的类型是可哈希的，因为自定义类型的哈希码取自 id()， 继承自 object 类 的 __eq__() 方法只不过是比较对象ID
- 使用 setdefault 可以同时有寻找和缺失时添加默认值的效果，最后可返回该列表
- k in my_dict 比起 k in my_dict.keys() 作用相同，且速度更快，因为无需通过属性查找 .keys 方法
- 自3.6起，内置的 dict 也保留的键的顺序
- OrderDict 的等值检查需要考虑顺序
- OrderDict 的目的是方便执行重新排序操作，空间利用率、迭代速度和更新操作的性能是次要的
- ChainMap 实例存放一组数组，实例不复制输入映射，而是存放映射的引用，更新或插入操作只影响第一个输入映射
- collection.Counter 是一种对键计数的映射，更新现有的键，计数随之增加。可用于统计可哈希对象的实例数量，或者作为多重集
- 子类应继承UserDict而不是Dict
- dict 的实例方法 .keys() .values() .items() 返回的实例为dict内部实现使用的数据结构的只读投影

## 疑惑
- 哈希表
- hash 值为负数
- frozenset
- __copy()__
- d.update(m)
- 鸭子类型
- shelve.Shelf
- collection.UserDict 和 dict 
- PEP412
- 